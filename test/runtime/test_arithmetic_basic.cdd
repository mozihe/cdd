/**
 * @file test_arithmetic_basic.cdd
 * @brief 基础算术与运算符优先级的运行期校验
 *
 * EXPECT_EXIT: 1
 */

// EXPECT_EXIT: 1

int main(void) {
    int a = 2;
    int b = 3;
    int value = (a + b) * 2 - 3;     // 10 - 3 = 7

    value = value + ++a;             // a=3, 10
    value = value - b--;             // b=3->2, 7
    value = value + (a * b);         // 3*2=6, 13
    value = value + (a == b);        // +0, 13
    value = value + (a != b);        // +1, 14
    value = value + (a && b);        // +1, 15
    value = value + (a || 0);        // +1, 16
    value = value + (~a);            // ~3 on 2's complement => -4, 12
    value = value + (b << 2);        // 2<<2 = 8 => 20
    value = value + (b >> 1);        // 2>>1 = 1 => 21

    value = value - 20;              // 1
    return value;                    // final EXPECT_EXIT: 1
}
