/**
 * @file test_float_literal.cdd
 * @brief 浮点数字面量测试用例
 * 
 * 测试各种浮点数字面量格式：小数、科学计数法
 * 以及后缀（f, F, l, L）
 */

// 1. 基本小数
double test_decimal_basic(void) {
    double a = 0.0;
    double b = 1.0;
    double c = 3.14;
    double d = 2.718;
    double e = 123.456;
    return a + b + c + d + e;
}

// 2. 负小数
double test_negative(void) {
    double a = -1.0;
    double b = -3.14;
    double c = -123.456;
    return a + b + c;
}

// 3. 省略整数部分
double test_no_integer(void) {
    double a = .5;      // 0.5
    double b = .25;     // 0.25
    double c = .125;    // 0.125
    double d = .0;      // 0.0
    return a + b + c + d;
}

// 4. 省略小数部分
double test_no_fraction(void) {
    double a = 1.;      // 1.0
    double b = 10.;     // 10.0
    double c = 100.;    // 100.0
    double d = 0.;      // 0.0
    return a + b + c + d;
}

// 5. 科学计数法 - 正指数
double test_scientific_positive(void) {
    double a = 1e0;      // 1
    double b = 1e1;      // 10
    double c = 1e2;      // 100
    double d = 1e3;      // 1000
    double e = 1.5e2;    // 150
    return a + b + c + d + e;
}

// 6. 科学计数法 - 负指数
double test_scientific_negative(void) {
    double a = 1e-1;     // 0.1
    double b = 1e-2;     // 0.01
    double c = 1e-3;     // 0.001
    double d = 5e-4;     // 0.0005
    return a + b + c + d;
}

// 7. 科学计数法 - 大写 E
double test_scientific_upper(void) {
    double a = 1E0;
    double b = 1E1;
    double c = 1E2;
    double d = 1.5E3;
    return a + b + c + d;
}

// 8. 科学计数法 - 显式正指数
double test_scientific_explicit_positive(void) {
    double a = 1e+0;
    double b = 1e+1;
    double c = 1e+2;
    double d = 1.5e+3;
    return a + b + c + d;
}

// 9. 科学计数法 - 复杂
double test_scientific_complex(void) {
    double a = 6.022e23;     // 阿伏伽德罗常数
    double b = 1.602e-19;    // 电子电荷
    double c = 3.0e8;        // 光速
    double d = 9.81e0;       // 重力加速度
    return a + b + c + d;
}

// 10. float 后缀 f
float test_suffix_f(void) {
    float a = 0.0f;
    float b = 1.0f;
    float c = 3.14f;
    float d = 2.718f;
    return a + b + c + d;
}

// 11. float 后缀 F
float test_suffix_F(void) {
    float a = 0.0F;
    float b = 1.0F;
    float c = 3.14F;
    float d = 2.718F;
    return a + b + c + d;
}

// 12. long double 后缀 l
long double test_suffix_l(void) {
    long double a = 0.0l;
    long double b = 1.0l;
    long double c = 3.14159265358979323846l;
    return a + b + c;
}

// 13. long double 后缀 L
long double test_suffix_L(void) {
    long double a = 0.0L;
    long double b = 1.0L;
    long double c = 3.14159265358979323846L;
    return a + b + c;
}

// 14. 科学计数法与后缀
float test_scientific_suffix(void) {
    float a = 1e2f;
    float b = 1E2F;
    float c = 1.5e-3f;
    return a + b + c;
}

// 15. 数学常数
double test_math_constants(void) {
    double pi = 3.14159265358979323846;
    double e = 2.71828182845904523536;
    double sqrt2 = 1.41421356237309504880;
    double phi = 1.61803398874989484820;  // 黄金比例
    return pi + e + sqrt2 + phi;
}

// 16. 特殊值
double test_special_values(void) {
    double zero = 0.0;
    double neg_zero = -0.0;
    double small = 0.000001;
    double large = 1000000.0;
    return zero + neg_zero + small + large;
}

// 17. 很小的数
double test_tiny(void) {
    double a = 1e-100;
    double b = 1e-200;
    double c = 1e-300;
    return a + b + c;
}

// 18. 很大的数
double test_huge(void) {
    double a = 1e100;
    double b = 1e200;
    double c = 1e300;
    return a + b + c;
}

// 19. 浮点数比较
int test_compare(void) {
    int a = (1.0 < 2.0);
    int b = (3.14 > 3.0);
    int c = (1.0 == 1.0);
    return a + b + c;
}

// 20. 浮点数运算
double test_operations(void) {
    double a = 1.5 + 2.5;      // 4.0
    double b = 3.5 - 1.5;      // 2.0
    double c = 2.0 * 3.0;      // 6.0
    double d = 10.0 / 4.0;     // 2.5
    return a + b + c + d;
}

// 21. 混合精度
double test_mixed_precision(void) {
    float f = 3.14f;
    double d = 3.14;
    long double ld = 3.14L;
    return f + d;
}

// 22. 浮点数数组
double test_array(void) {
    double arr[5] = {1.1, 2.2, 3.3, 4.4, 5.5};
    double sum = 0.0;
    for (int i = 0; i < 5; i++) {
        sum = sum + arr[i];
    }
    return sum;
}

// 23. 浮点数作为函数参数
double add_doubles(double a, double b) {
    return a + b;
}

double test_func_param(void) {
    return add_doubles(1.5, 2.5);
}

// 24. 浮点数返回值
double test_return(void) {
    return 3.14159;
}

// 25. 整数与浮点混合
double test_mixed_int_float(void) {
    int i = 10;
    double d = 3.14;
    double result = i * d;
    return result;
}

// 26. 类型转换
int test_cast(void) {
    double d = 3.99;
    int i = (int)d;  // 截断为 3
    return i;
}

// 27. 精度测试
double test_precision(void) {
    double a = 0.1;
    double b = 0.2;
    double c = a + b;  // 接近但可能不完全等于 0.3
    return c;
}

// 28. 浮点零
double test_zeros(void) {
    double a = 0.0;
    double b = .0;
    double c = 0.;
    double d = 0e0;
    return a + b + c + d;
}

// 29. 浮点一
double test_ones(void) {
    double a = 1.0;
    double b = 1.;
    double c = 1e0;
    double d = 10e-1;
    return a + b + c + d;
}

// 30. 十六进制浮点（如果支持）
double test_hex_float(void) {
    // C99 支持十六进制浮点
    // double a = 0x1.0p0;     // 1.0
    // double b = 0x1.8p0;     // 1.5
    // double c = 0x1.0p1;     // 2.0
    // double d = 0x1.0p-1;    // 0.5
    double a = 1.0;
    double b = 1.5;
    double c = 2.0;
    double d = 0.5;
    return a + b + c + d;
}

// 31. 角度转弧度
double test_angle(void) {
    double deg_90 = 90.0;
    double deg_180 = 180.0;
    double deg_360 = 360.0;
    double pi = 3.14159265358979323846;
    double rad_90 = deg_90 * pi / 180.0;
    return rad_90;
}

// 32. 百分比
double test_percentage(void) {
    double p1 = 0.01;   // 1%
    double p10 = 0.1;   // 10%
    double p50 = 0.5;   // 50%
    double p100 = 1.0;  // 100%
    return p1 + p10 + p50 + p100;
}

// 33. 货币金额
double test_money(void) {
    double price1 = 9.99;
    double price2 = 19.99;
    double price3 = 99.99;
    double tax = 0.08;  // 8% 税
    double total = (price1 + price2 + price3) * (1.0 + tax);
    return total;
}

// 34. 物理常数
double test_physics(void) {
    double c = 299792458.0;          // 光速 m/s
    double G = 6.67430e-11;          // 万有引力常数
    double h = 6.62607015e-34;       // 普朗克常数
    double k = 1.380649e-23;         // 玻尔兹曼常数
    return c;
}

// 35. 结构体中的浮点数
struct Vector2 {
    float x;
    float y;
};

float test_struct_float(void) {
    struct Vector2 v;
    v.x = 1.0f;
    v.y = 2.0f;
    return v.x + v.y;
}

// 36. 浮点数指针
double test_float_pointer(void) {
    double val = 3.14;
    double* ptr = &val;
    return *ptr;
}

// 37. 浮点数组求和
float sum_floats(float* arr, int n) {
    float sum = 0.0f;
    for (int i = 0; i < n; i++) {
        sum = sum + arr[i];
    }
    return sum;
}

// 38. 浮点除法
double test_division(void) {
    double a = 10.0 / 3.0;
    double b = 22.0 / 7.0;  // 近似 pi
    double c = 1.0 / 2.0;
    return a + b + c;
}

// 39. 浮点求模（通过减法）
double float_mod(double a, double b) {
    int n = (int)(a / b);
    return a - n * b;
}

// 40. 浮点数边界
float test_float_limits(void) {
    float max_float = 3.402823e38f;
    float min_pos = 1.175494e-38f;
    return max_float;
}

int main(void) {
    // 基本小数
    double a = 3.14;
    double b = 2.718;
    
    // 省略部分
    double c = .5;    // 0.5
    double d = 1.;    // 1.0
    
    // 科学计数法
    double e = 1e10;
    double f = 1.5e-3;
    double g = 6.022E23;
    
    // 带后缀
    float h = 3.14f;
    float i = 2.718F;
    long double j = 3.14L;
    
    // 运算
    double sum = a + b;
    double prod = a * b;
    double quot = a / b;
    
    // 比较
    int gt = (a > b);
    int lt = (a < b);
    
    // 数组
    double arr[3] = {1.1, 2.2, 3.3};
    
    return 0;
}
