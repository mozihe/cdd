/**
 * @file test_auto.cdd
 * @brief auto 关键字测试用例
 * 
 * 在 C 语言中，auto 是默认的存储类说明符
 * 用于局部变量，表示自动存储期
 */

// 1. auto 局部变量
int test_basic_auto(void) {
    auto int x = 10;
    return x;
}

// 2. auto 隐式（默认）
int test_implicit_auto(void) {
    int y = 20;  // 等价于 auto int y = 20;
    return y;
}

// 3. auto 不同类型
int test_auto_types(void) {
    auto char c = 'A';
    auto short s = 100;
    auto int i = 1000;
    auto long l = 100000;
    auto float f = 3.14f;
    auto double d = 3.14159;
    return i;
}

// 4. auto 数组（不常见但合法）
int test_auto_array(void) {
    auto int arr[5] = {1, 2, 3, 4, 5};
    return arr[0];
}

// 5. auto 指针
int test_auto_pointer(void) {
    int x = 42;
    auto int* ptr = &x;
    return *ptr;
}

// 6. auto 在循环中
int test_auto_loop(void) {
    int sum = 0;
    int i;
    for (i = 0; i < 10; i = i + 1) {
        auto int temp = i * 2;
        sum = sum + temp;
    }
    return sum;
}

// 7. auto 在块作用域中
int test_auto_block(void) {
    int result = 0;
    {
        auto int inner = 100;
        result = inner;
    }
    // inner 在此不可见
    return result;
}

// 8. auto 嵌套块
int test_auto_nested(void) {
    auto int a = 1;
    {
        auto int b = 2;
        {
            auto int c = 3;
            a = a + b + c;
        }
    }
    return a;
}

// 9. auto 与 const 组合
int test_auto_const(void) {
    auto const int readonly = 50;
    return readonly;
}

// 10. auto 与 volatile 组合
int test_auto_volatile(void) {
    auto volatile int vol = 100;
    vol = 200;
    return vol;
}

// 11. auto unsigned
int test_auto_unsigned(void) {
    auto unsigned int u = 100;
    return u;
}

// 12. auto signed
int test_auto_signed(void) {
    auto signed int s = -100;
    return s;
}

// 13. auto 函数内多个变量
int test_multiple_auto(void) {
    auto int a = 1;
    auto int b = 2;
    auto int c = 3;
    auto int d = 4;
    auto int e = 5;
    return a + b + c + d + e;
}

// 14. auto 重新赋值
int test_auto_reassign(void) {
    auto int x = 10;
    x = 20;
    x = 30;
    return x;
}

// 15. auto 与表达式初始化
int test_auto_expr(void) {
    auto int a = 5;
    auto int b = 10;
    auto int c = a + b;
    auto int d = c * 2;
    return d;
}

// 16. auto 指针运算
int test_auto_ptr_arith(void) {
    int arr[] = {10, 20, 30, 40, 50};
    auto int* p = arr;
    p = p + 2;
    return *p;  // 30
}

// 17. auto 字符数组
int test_auto_char_array(void) {
    auto char str[] = "Hello";
    return str[0];
}

// 18. auto 在 if 语句块中
int test_auto_if(int cond) {
    if (cond) {
        auto int x = 100;
        return x;
    } else {
        auto int y = 200;
        return y;
    }
}

// 19. auto 在 while 循环中
int test_auto_while(void) {
    int count = 0;
    while (count < 5) {
        auto int temp = count;
        count = temp + 1;
    }
    return count;
}

// 20. auto 在 do-while 循环中
int test_auto_do_while(void) {
    int count = 0;
    do {
        auto int temp = count;
        count = temp + 1;
    } while (count < 5);
    return count;
}

// 21. auto long long
int test_auto_long_long(void) {
    auto long long ll = 123456789012345;
    return (int)ll;
}

// 22. auto 与函数调用结果
int helper(void) {
    return 42;
}

int test_auto_func_result(void) {
    auto int result = helper();
    return result;
}

// 23. auto 多维数组（不常见）
int test_auto_2d_array(void) {
    auto int arr[2][3] = {{1, 2, 3}, {4, 5, 6}};
    return arr[1][2];  // 6
}

// 24. auto 结构体变量
struct Point {
    int x;
    int y;
};

int test_auto_struct(void) {
    auto struct Point p = {10, 20};
    return p.x + p.y;
}

// 25. auto 与三元运算符
int test_auto_ternary(int cond) {
    auto int result = cond ? 100 : 200;
    return result;
}

int main(void) {
    int r1 = test_basic_auto();
    int r2 = test_auto_types();
    int r3 = test_auto_loop();
    int r4 = test_auto_block();
    
    return 0;
}
